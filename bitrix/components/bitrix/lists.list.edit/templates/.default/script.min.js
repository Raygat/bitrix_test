BX.namespace("BX.Lists");BX.Lists.ListsEditClass=function(){var t=function(t){this.randomString=t.randomString;this.ajaxUrl="/bitrix/components/bitrix/lists.list.edit/ajax.php";this.iblockTypeId=t.iblockTypeId;this.iblockId=t.iblockId;this.socnetGroupId=t.socnetGroupId;this.jsClass="ListsEditClass_"+t.randomString;this.listsUrl=t.listsUrl||"";this.copyIblockElement=BX("lists-edit-copy-iblock")};t.prototype.copyIblock=function(){var t=this.copyIblockElement.cloneNode(true),s=this.copyIblockElement.parentNode;this.copyIblockElement.setAttribute("href","");this.copyIblockElement.innerHTML="";this.copyIblockElement.appendChild(BX.create("span",{props:{className:"bx-context-button-icon btn-copy"}}));this.copyIblockElement.appendChild(BX.create("span",{props:{className:"bx-context-button-text"},text:BX.message("CT_BLLE_TOOLBAR_LIST_COPY_BUTTON_TITLE")}));BX.Lists.ajax({method:"POST",dataType:"json",url:BX.Lists.addToLinkParam(this.ajaxUrl,"action","copyIblock"),data:{iblockTypeId:this.iblockTypeId,iblockId:this.iblockId,socnetGroupId:this.socnetGroupId},onsuccess:BX.delegate(function(e){if(e.status=="success"){BX.Lists.showModalWithStatusAction({status:"success",message:e.message});setTimeout(BX.delegate(function(){document.location.href=this.listsUrl},this),1e3)}else{e.errors=e.errors||[{}];BX.Lists.showModalWithStatusAction({status:"error",message:e.errors.pop().message});BX.Lists.removeElement(this.copyIblockElement);s.appendChild(t)}},this)})};t.prototype.deleteIblock=function(t,s){var e=BX(t);var o=BX("action");if(e&&o){if(confirm(s)){o.value="delete";e.submit()}}};t.prototype.migrateList=function(t,s){var e=BX(t);var o=BX("action");if(e&&o){if(confirm(s)){o.value="migrate";e.submit()}}};return t}();
//# sourceMappingURL=script.map.js