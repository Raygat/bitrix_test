BX.namespace("BX.Lists");BX.Lists=function(){var e=null;var t={};return{ajax:function(e){e.data=e.data||{};e.data["SITE_ID"]=BX.message("SITE_ID");e.data["sessid"]=BX.bitrix_sessid();return BX.ajax(e)},modalWindow:function(n){n=n||{};n.title=n.title||false;n.bindElement=n.bindElement||null;n.overlay=typeof n.overlay=="undefined"?true:n.overlay;n.autoHide=n.autoHide||false;n.closeIcon=typeof n.closeIcon=="undefined"?{right:"20px",top:"10px"}:n.closeIcon;n.modalId=n.modalId||"lists_modal_window_"+(Math.random()*(2e5-100)+100);n.withoutContentWrap=typeof n.withoutContentWrap=="undefined"?false:n.withoutContentWrap;n.contentClassName=n.contentClassName||"";n.contentStyle=n.contentStyle||{};n.content=n.content||[];n.buttons=n.buttons||false;n.events=n.events||{};n.withoutWindowManager=!!n.withoutWindowManager||false;var o=[];if(n.title){o.push(BX.create("div",{props:{className:"bx-lists-popup-title"},text:n.title}))}if(n.withoutContentWrap){o=o.concat(n.content)}else{o.push(BX.create("div",{props:{className:"bx-lists-popup-content "+n.contentClassName},style:n.contentStyle,children:n.content}))}var s=[];if(n.buttons){for(var a in n.buttons){if(!n.buttons.hasOwnProperty(a)){continue}if(a>0){s.push(BX.create("SPAN",{html:"&nbsp;"}))}s.push(n.buttons[a])}o.push(BX.create("div",{props:{className:"bx-lists-popup-buttons"},children:s}))}var r=BX.create("div",{props:{className:"bx-lists-popup-container"},children:o});n.events.onPopupShow=BX.delegate(function(){if(s.length){e=s[0];BX.bind(document,"keydown",BX.proxy(this._keyPress,this))}if(n.events.onPopupShow)BX.delegate(n.events.onPopupShow,BX.proxy_context)},this);var i=n.events.onPopupClose;n.events.onPopupClose=BX.delegate(function(){e=null;try{BX.unbind(document,"keydown",BX.proxy(this._keypress,this))}catch(o){}if(i){BX.delegate(i,BX.proxy_context)()}if(n.withoutWindowManager){delete t[n.modalId]}BX.proxy_context.destroy()},this);var l;if(n.withoutWindowManager){if(!!t[n.modalId]){return t[n.modalId]}l=new BX.PopupWindow(n.modalId,n.bindElement,{content:r,closeByEsc:true,closeIcon:n.closeIcon,autoHide:n.autoHide,overlay:n.overlay,events:n.events,buttons:[],zIndex:isNaN(n["zIndex"])?0:n.zIndex});t[n.modalId]=l}else{l=BX.PopupWindowManager.create(n.modalId,n.bindElement,{content:r,closeByEsc:true,closeIcon:n.closeIcon,autoHide:n.autoHide,overlay:n.overlay,events:n.events,buttons:[],zIndex:isNaN(n["zIndex"])?0:n.zIndex})}l.show();return l},removeElement:function(e){return e.parentNode?e.parentNode.removeChild(e):e},addToLinkParam:function(e,t,n){if(!e.length){return"?"+t+"="+n}e=BX.util.remove_url_param(e,t);if(e.indexOf("?")!=-1){return e+"&"+t+"="+n}return e+"?"+t+"="+n},getFirstErrorFromResponse:function(e){e=e||{};if(!e.errors)return"";return e.errors.shift().message},showModalWithStatusAction:function(e,t){e=e||{};if(!e.message){if(e.status=="success"){e.message=BX.message("LISTS_ASSETS_JS_STATUS_ACTION_SUCCESS")}else{e.message=BX.message("LISTS_ASSETS_JS_STATUS_ACTION_ERROR")+". "+this.getFirstErrorFromResponse(e)}}var n=BX.create("div",{props:{className:"bx-lists-alert"},children:[BX.create("span",{props:{className:"bx-lists-aligner"}}),BX.create("span",{props:{className:"bx-lists-alert-text"},text:e.message}),BX.create("div",{props:{className:"bx-lists-alert-footer"}})]});var o=BX.PopupWindowManager.getCurrentPopup();if(o){o.destroy()}var s=setTimeout(function(){var e=BX.PopupWindowManager.getCurrentPopup();if(!e||e.uniquePopupId!="bx-lists-status-action"){return}e.close();e.destroy()},3500);var a=BX.PopupWindowManager.create("bx-lists-status-action",null,{content:n,onPopupClose:function(){this.destroy();clearTimeout(s)},autoHide:true,zIndex:2e3,className:"bx-lists-alert-popup"});a.show();BX("bx-lists-status-action").onmouseover=function(e){clearTimeout(s)};BX("bx-lists-status-action").onmouseout=function(e){s=setTimeout(function(){var e=BX.PopupWindowManager.getCurrentPopup();if(!e||e.uniquePopupId!="bx-lists-status-action"){return}e.close();e.destroy()},3500)}},addNewTableRow:function(e,t,n,o){var s=document.getElementById(e);var a=s.rows.length;var r=s.insertRow(a);for(var i=0;i<t;i++){var l=r.insertCell(i);var u=s.rows[a-1].cells[i].innerHTML;l.innerHTML=u.replace(n,function(e){return e.replace("[n"+arguments[o]+"]","[n"+(1+parseInt(arguments[o]))+"]")})}},show:function(e){if(this.getRealDisplay(e)!="none")return;var t=e.getAttribute("displayOld");e.style.display=t||"";if(this.getRealDisplay(e)==="none"){var n=e.nodeName,o=document.body,s;if(displayCache[n]){s=displayCache[n]}else{var a=document.createElement(n);o.appendChild(a);s=this.getRealDisplay(a);if(s==="none"){s="block"}o.removeChild(a);displayCache[n]=s}e.setAttribute("displayOld",s);e.style.display=s}},hide:function(e){if(!e.getAttribute("displayOld")){e.setAttribute("displayOld",e.style.display)}e.style.display="none"},getRealDisplay:function(e){if(e.currentStyle){return e.currentStyle.display}else if(window.getComputedStyle){var t=window.getComputedStyle(e,null);return t.getPropertyValue("display")}}}}();
//# sourceMappingURL=lists.map.js