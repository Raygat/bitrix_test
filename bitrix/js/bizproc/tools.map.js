{"version":3,"file":"tools.min.js","sources":["tools.js"],"names":["BX","namespace","Bizproc","doInlineTask","parameters","callback","scope","__waiting","hasClass","addClass","bitrix_sessid","ajax","post","removeClass","arguments","taskPopupInstance","taskPopupCallback","showTaskPopup","taskId","userId","useIframe","method","dataType","url","message","onsuccess","HTML","load","wrapper","create","style","width","innerHTML","PopupWindow","Math","round","random","content","closeIcon","right","top","zIndex","offsetLeft","offsetTop","closeByEsc","draggable","restrict","overlay","backgroundColor","opacity","events","onPopupShow","popup","title","findChild","contentContainer","className","cursor","bind","proxy","_startDrag","onPopupClose","destroy","delegationPopup","show","delegationSelected","showDelegationPopup","lightShadow","autoHide","bindOptions","forceBindPosition","angle","position","offset","buttons","PopupWindowButton","text","click","e","delegateTask","close","PopupWindowButtonLink","window","event","PreventDefault","delegationOnSelect","user","id","fromUserId","toUserId","SITE_ID","action","sessid","task_id","from_user_id","to_user_id","data","response","alert","success","location","reload","showWorkflowInfoPopup","workflowId","postTaskForm","form","BPRUNNING","actionName","actionValue","btn","document","activeElement","type","explicitOriginalTarget","toLowerCase","name","value","target","BXFormTarget","frame_name","body","appendChild","props","src","display","property","BXFormCallback","parseJSON","ERROR","_submit_callback","submit","WorkflowFaces","showFaces","tasks","simple","taskBased","__popup","createMenu","isShown","i","k","s","length","l","tasksContent","cls","task","uContent","USERS","STATUS","tpl","PHOTO_SRC","FULL_NAME","push","join","usersMenu","taskHead","NAME"],"mappings":"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"}